<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Game prototyping with HaxeFlixel</title>

		<meta name="description" content="Few words about game prototyping with HaxeFlixel">
		<meta name="author" content="dector">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
						<h1>Game prototyping</h1>

						<h2>with</h2>

						<br />

						<img src="images/haxeflixel-logo.png" />
				</section>

				<!-- Intro -->

				<section>
					<h2>HaxeFlixel</h2>

					<h3>What?</h3>

					<br />

					<img src="images/haxeflixel-powered.png" />

					<p>Haxe + OpenFl + Flixel = HaxeFlixel</p>
				</section>

				<section>
					<h2>Haxe</h2>

					<br />

					<img src="images/haxe-logo.png" />
				</section>

				<section>
					<h2>Haxe</h2>

					<h3>Another language?</h3>

					<br />

					<p class="fragment roll-in">Yes</p>

					<p class="fragment roll-in">But...</p>

					<img class="fragment roll-in" src="images/haxe-targets.png" />
				</section>

				<section>
					<h2>Haxe</h2>

					<br />

					<p>Will it <s>blend</s> work?</p>

					<p class="fragment roll-in">Take a look!</p>

				</section>

				<section>
					<h2>Haxe</h2>

					<br />

					<img src="images/evoland.png" />

					<p><a href="http://evoland.shirogames.com/">Evoland</a> (In Steam)</p>
				</section>

				<section>
					<h2>Haxe</h2>

					<br />

					<img src="images/rymdkapsel.png" />

					<p><a href="http://rymdkapsel.com/">Rymdkapsel</a> (In Steam)</p>
				</section>

				<section>
					<h2>Haxe</h2>

					<br />

					<img src="images/paper-please.png" />

					<p><a href="http://papersplea.se/">Paper, please</a></p>
				</section>

				<section>
					<h2>OpenFl</h2>

					<br />

					<img src="images/openfl-platforms.png" />

					<p>Flash is dead! <span class="fragment roll-in">Long live OpenFl!</span></p>
				</section>

				<section>
					<h2>Flixel</h2>

					<br />

					<img src="images/flixel-logo.png" />

					<p>by <a href="http://adamatomic.com/">Adam 'Atomic' Saltsman</a></p>
				</section>

				<section>
					<h2>Flixel</h2>

					<br />

					<img src="images/flixel-canabalt.png"/>

					<p><a href="http://adamatomic.com/canabalt/">Canabalt</a> (2009)</p>
				</section>

				<section>
					<h2>Flixel</h2>

					<br />

					<img src="images/google-endless-runner.png" />
				</section>

				<section>
					<h2>Flixel</h2>

					<h3>Features</h3>

					<br />

					<p class="fragment roll-in">Thousands of moving sprites</p>
					<p class="fragment roll-in">Collisions</p>
					<p class="fragment roll-in">Object grouping</p>
					<p class="fragment roll-in">Particles</p>
					<p class="fragment roll-in">Mouse/Keyboard Input</p>
					<p class="fragment roll-in">Tilemaps</p>
				</section>

				<section>
					<h2>Flixel</h2>

					<h3>Advanced Features</h3>

					<br />

					<p class="fragment roll-in">Game saves</p>
					<p class="fragment roll-in">Scrolling</p>
					<p class="fragment roll-in">Record/Play replays</p>
					<p class="fragment roll-in">Split screens</p>
					<p class="fragment roll-in">Pathfinding</p>
					<p class="fragment roll-in">... lots other cool <a href="http://flixel.org/features.html">things</a></p>
				</section>

				<section>
					<h2>Flixel</h2>

					<h3>Ports</h3>

					<br />

					<p class="fragment roll-in"><a href="https://github.com/HaxeFlixel/flixel/">HaxeFlixel</a></p>
					<p class="fragment roll-in"><a href="http://devolonter.github.io/flixel-monkey/">Flixel for Monkey</a></p>
					<p class="fragment roll-in"><a href="https://github.com/StAidan/X-flixel/">X-flixel (XNA)</a></p>
					<p class="fragment roll-in"><a href="https://github.com/flixel-gdx/flixel-gdx">flixel-gdx (Java)</a></p>
				</section>

				<!-- Install -->

				<section>
					<h2>Getting started</h2>

					<br />

					<p class="fragment roll-in"><a href="http://haxe.org/download/">Download and install Haxe</a></p>

					<div class="fragment roll-in">
						<p>Install Lime</p>
						<pre><code data-trim>
haxelib install lime
haxelib run lime setup
						</code></pre>
					</div>

					<div class="fragment roll-in">
						<p>Install OpenFl</p>
						<pre><code data-trim>
lime install openfl
						</code></pre>
					</div>

					<p class="fragment roll-in"><a href="http://www.openfl.org/documentation/setup/platforms/">Setup desired platform</a></p>
				</section>

				<section>
					<h2>Getting started</h2>

					<br />

					<div class="fragment roll-in">
						<p>Install HaxeFlixel</p>
						<pre><code data-trim>
haxelib install flixel
haxelib install flixel-tools
haxelib run flixel-tools setup
						</code></pre>
					</div>
				</section>

				<section>
					<h2>IDE</h2>

					<br />

					<p class="fragment roll-in"><a href="http://plugins.jetbrains.com/plugin/6873?pr=idea_ce">Intellij IDEA (plugin)</a></p>
					<p class="fragment roll-in"><a href="http://www.flashdevelop.org/">Flash develop</a></p>
					<p class="fragment roll-in"><a href="https://github.com/clemos/haxe-sublime-bundle">Sublime Text (plugin)</a></p>
					<p class="fragment roll-in"><a href="https://github.com/jdonaldson/vaxe">Vim (plugin)</a></p>
					<p class="fragment roll-in"><a href="https://github.com/as3boyan/HIDE/">HIDE (WIP)</a></p>
				</section>

				<section>
					<h2>Project setup &amp; run</h2>

					<br />

					<div class="fragment roll-in">
						<p>Setup project from template</p>
						<pre><code data-trim>
flixel tpl -n "Project"
cd ./Project
						</code></pre>
					</div>

					<div class="fragment roll-in">
						<p>Build and run with Neko</p>
						<pre><code data-trim>
lime test neko
						</code></pre>
					</div>

					<div class="fragment roll-in">
						<p>Build and run native</p>
						<pre><code data-trim>
lime test linux
lime test mac
lime test windows
						</code></pre>
					</div>

				</section>

				<section>
					<h2>Project setup &amp; run</h2>

					<br />

					<div class="fragment roll-in">
						<p>Build and run flash</p>
						<pre><code data-trim>
lime test flash
lime build flash
						</code></pre>
					</div>

					<div class="fragment roll-in">
						<p>Just build Flash</p>
						<pre><code data-trim>
lime build flash
						</code></pre>
					</div>
				</section>

				<!-- Let the code be with you! -->

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>FlxGame structure</p>
					<img src="images/haxeflixel-structure.png">
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Starting with some text widgets</p>
					<pre><code data-trim>
class MenuState extends FlxState {
    private var menuValue1: TwoStateText;
    private var menuValue2: TwoStateText;

    // ...
}
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Just custom widget</p>
					<pre><code data-trim>
class TwoStateText extends FlxText {
    private static inline var SELECTED_COLOR: Int = 0xffff0000;
    private static inline var NORMAL_COLOR: Int = 0xffffffff;

    // ...

    public function new(X:Float = 0, Y:Float = 0, FieldWidth:Float = 0,
                        ?Text:String, Size:Int = 8) {
        super(X, Y, FieldWidth, Text, Size);
    }
}
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Haxe getters and setters</p>
					<pre><code data-trim>
private var _selected: Bool;

public var selected(get, set): Bool;

function get_selected(): Bool {
    return _selected;
}

function set_selected(val: Bool): Bool {
    if (val) {
        color = SELECTED_COLOR;
    } else {
        color = NORMAL_COLOR;
    }
    _selected = val;
    return _selected;
}
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Adding text widgets to State</p>
					<pre><code data-trim>
override public function create(): Void {
    super.create();

    FlxG.camera.bgColor = 0xff222222;

    menuValue1 = new TwoStateText(20, 200, 600, "Start Game", 15);
    menuValue1.antialiasing = true;
    menuValue1.alignment = "center";

    menuValue2 = new TwoStateText(20, 240, 600, "Show me cat!", 15);
    menuValue2.antialiasing = true;
    menuValue2.alignment = "center";

    add(menuValue1);
    add(menuValue2);

    menuValue1.selected = true;
}
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Processing input and switching states</p>
					<pre><code data-trim>
if (FlxG.keys.justPressed.ENTER) {
    if (menuValue1.selected) {
        FlxG.switchState(new PlayState());
    } else if (menuValue2.selected) {
        FlxG.switchState(new AboutState());
    }
}
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Preparing animation frames</p>
					<img src="images/cat.png" />
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Loading animation</p>
					<pre><code data-trim>
var image = new FlxSprite(320, 240);
image.loadGraphic("assets/cat.png", true, 64, 64);
image.animation.add("iddle", [0, 1, 2, 3], 7);
image.animation.add("walk", [10, 11, 12, 13, 14, 15, 16, 17], 10);
image.animation.add("kick", [20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30], 7);
add(image);
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Playing animation</p>
					<pre><code data-trim>
image.animation.play("iddle");
					</code></pre>
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-01-1.png" />
				</section>

				<section>
					<h2>Stage 1</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-01-2.png" />
				</section>

				<section>
					<h2>Breaking bat</h2>

					<br />

					<p>Creating bat</p>
					<pre><code data-trim>
private function createBat(): Void{
    bat = new FlxSprite(270, 420);
    bat.makeGraphic(100, 20, 0xffffffff);
    add(bat);
}
					</code></pre>
				</section>

				<section>
					<h2>Let it move</h2>

					<br />

					<p>Process hitting</p>
					<pre><code data-trim>
private function moveBat(): Void {
    if (FlxG.keys.pressed.LEFT && bat.x > 0) {
        bat.velocity.x = -500;
    } else if (FlxG.keys.pressed.RIGHT && bat.x < 540) {
        bat.velocity.x = 500;
    } else {
        bat.velocity.x = 0;
    }

    if (bat.x < 0) {
        bat.x = 0;
    } else if (bat.x > 540) {
        bat.x = 540;
    }
}
					</code></pre>
				</section>

				<section>
					<h2>Let it move</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-03-1.png" />
				</section>

				<section>
					<h2>Great walls of fire</h2>

					<br />

					<p>Thinking inside the box</p>
					<pre><code data-trim>
private function createWalls(): Void {
	walls = new FlxGroup();
	add(walls);

	var left = new FlxSprite(0, 0);
	left.makeGraphic(20, 480, 0xff999999);
	walls.add(left);

	var right = new FlxSprite(620, 0);
	right.makeGraphic(20, 480, 0xff999999);
	walls.add(right);

	var top = new FlxSprite(0, 0);
	top.makeGraphic(640, 20, 0xff999999);
	walls.add(top);
}
					</code></pre>
				</section>

				<section>
					<h2>Great walls of fire</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-04-1.png" />
				</section>

				<section>
					<h2>Meet the ball</h2>

					<br />

					<p>Ball is in game</p>
					<pre><code data-trim>
private function createBall(): Void {
    ball = new FlxSprite(300, 220);
    ball.makeGraphic(20, 20, 0xffaa2200);
    ball.maxVelocity.set(300, 300);
    ball.velocity.x = FlxRandom.intRanged(-200, 200);
    ball.velocity.y = 300;
    add(ball);
}
					</code></pre>
				</section>

				<section>
					<h2>Meet the ball</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-05-1.png" />
				</section>

				<section>
					<h2>Walls to the ball</h2>

					<br />

					<p></p>
					<pre><code data-trim>
override public function update():Void {
    // ...
    checkCollisions();
}

private function checkCollisions(): Void {
    FlxG.collide(ball, walls);
    FlxG.collide(ball, bat, beatHappens);
}

private function beatHappens(ball: FlxObject, bat: FlxObject): Void {
    var batmid = bat.x + bat.width / 2;
    var ballmid = ball.x + ball.width / 2;
    var diff;

    ball.velocity.x = 10 * (ballmid - batmid);
}
					</code></pre>
				</section>

				<section>
					<h2>Move up, Stand up</h2>

					<br />

					<p>Fixing Newton's law</p>
					<pre><code data-trim>
private function createBat(): Void {
    // ...
    bat.immovable = true;
}

private function createWalls(): Void {
    // ...
    left.immovable = true;
    right.immovable = true;
    top.immovable = true;
}

private function createBall(): Void {
    // ...
    ball.elasticity = 1;
}
					</code></pre>
				</section>

				<section>
					<h2>Move up, Stand up</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-07-1.png" />
				</section>

				<section>
					<h2>All we are just a brick</h2>

					<br />

					<p>Generating colour bricks</p>
					<pre><code data-trim>
private function createBricks(): Void {
    bricks = new FlxGroup();

    for (i in 0...7) {
        for (j in 0...4) {
            var brick = new FlxSprite(i * (60 + 5), j * (40 + 5));
            var color = BRICK_COLOR[FlxRandom.intRanged(0,
                                    BRICK_COLOR.length - 1)];
            brick.makeGraphic(60, 40, color);
            brick.immovable = true;
            bricks.add(brick);
        }
    }
}

private function beatBrick(ball: FlxObject, brick: FlxObject): Void {
    brick.kill();
}
					</code></pre>
				</section>

				<section>
					<h2>Summertime</h2>

					<br />

					<p>Result</p>
					<img src="images/exec-09-1.png" />
				</section>

				<section>
					<h2>Master of particles</h2>

					<br />

					<p>He's particles dealer</p>
					<pre><code data-trim>
private function createEmitter(): Void {
    emitter = new FlxEmitter(0, 0);
    emitter.maxSize = 10;
    add(emitter);

    for (i in 0...10) {
        var particle = new FlxParticle();
        particle.makeGraphic(5, 5, 0xffffffff);
        particle.visible = false;
        particle.useFading = true;
        emitter.add(particle);
    }
}
					</code></pre>
				</section>

				<section>
					<h2>Master of particles</h2>

					<br />

					<p>Part... what?</p>
					<pre><code data-trim>
private function beatBrick(ball: FlxObject, brick: FlxObject): Void {
    brick.kill();

    emitter.x = brick.x + brick.width / 2;
    emitter.y = brick.y + brick.height / 2;
    emitter.start(true, 2);
}
					</code></pre>
				</section>

				<section>
					<h2></h2>

					<br />

					<p>Result</p>
					<img src="images/exec-10-1.png" />
				</section>

				<section>
					<h2>Highway to Heaven</h2>

					<br />

					<p>Do things that means</p>
					<pre><code data-trim>
override public function update():Void {
    if (Context.gameState == Context.IN_PROGRESS) {
        super.update();

        moveBat();
        checkCollisions();
        checkHell();
        checkHeaven();
    }
}
					</code></pre>
				</section>

				<section>
					<h2>Highway to Heaven</h2>

					<br />

					<p>Extremes may be dangerous</p>
					<pre><code data-trim>
private function checkHell(): Void {
    if (ball.y > 520) {
        Context.gameState = Context.GAME_OVER;
        FlxG.camera.fade(0xff000000, 1, false, gotoHellOrHeaven, true);
    }
}

private function checkHeaven(): Void {
    if (bricks.countLiving() <= 0) {
        Context.gameState = Context.WINNER;
        FlxG.camera.fade(0xffffffff, 1, false, gotoHellOrHeaven, true);
    }
}
					</code></pre>
				</section>

				<section>
					<h2>Highway to Heaven</h2>

					<br />

					<p>But sometimes there is no conditions :(</p>
					<pre><code data-trim>
private function gotoHellOrHeaven(): Void
{
    FlxG.switchState(new InfoState());
}
					</code></pre>
				</section>

				<section>
					<h2>Highway to Heaven</h2>

					<br />

					<p>Heaven</p>
					<img src="images/exec-11-1.png" />
				</section>

				<section>
					<h2>Highway to Heaven</h2>

					<br />

					<p>Hell</p>
					<img src="images/exec-11-2.png" />
				</section>

				<section>
					<h2>Just nod if you can hear me</h2>

					<br />

					<p>Let's make some noise</p>
					<pre><code data-trim>
private function beatBrick(ball: FlxObject, brick: FlxObject): Void    {
    // ...
    FlxG.sound.play("assets/brick.wav");
}

private function checkHeaven(): Void {
    if (bricks.countLiving() <= 0) {
        // ...
        FlxG.sound.playMusic("assets/win.wav", 1, false);
    }
}
					</code></pre>
				</section>

				<!-- Conclusion -->

				<section>
					<h1>Conclusion</h1>
				</section>

				<section>
					<h2>It's opensource</h2>

					<br />

					<img src="images/github.png" />

					<p class="fragment roll-in"><a href="https://github.com/HaxeFoundation/haxe">Haxe</a></p>
					<p class="fragment roll-in"><a href="https://github.com/HaxeFlixel/flixel">HaxeFlixel</a></p>
					<p class="fragment roll-in"><a href="https://github.com/openfl/lime">Lime</a></p>
					<p class="fragment roll-in"><a href="https://github.com/openfl/openfl">OpenFl</a></p>
				</section>

				<section>
					<h2>API</h2>

					<br />

					<img src="images/haxeflixel-api.png" />

					<p>Find it <a href="http://api.haxeflixel.com/">here</a></p>
				</section>

				<section>
					<h2>Handbook</h2>

					<br />

					<img src="images/haxeflixel-handbook.png" />

					<p>Find it <a href="http://haxeflixel.com/documentation/haxeflixel-handbook/">here</a></p>
				</section>

				<section>
					<h2>New tutorial</h2>

					<br />

					<img src="images/haxeflixel-tutorial.png" />

					<p>Find it <a href="http://haxeflixel.com/documentation/tutorials/">here</a></p>
				</section>

				<section>
					<h2>Cheatsheet</h2>

					<br />

					<img src="images/haxeflixel-cheatsheet.png" />

					<p>Find it <a href="http://haxeflixel.com/documentation/cheat-sheet/">here</a></p>
				</section>

				<section>
					<h2>Demos</h2>

					<br />

					<img src="images/haxeflixel-demos.png" />

					<p>Find them <a href="">here</a></p>
				</section>

				<section>
					<h2>Showcase</h2>

					<br />

					<img src="images/haxeflixel-showcase.png" />

					<p>Find it <a href="">here</a></p>
				</section>

				<section>
					<h2>Also check</h2>

					<br />

					<p><a href="http://gamedevelopment.tutsplus.com/articles/how-to-learn-flixel--gamedev-5843">How to Learn Flixel</a></p>
					<p><a href="http://www.photonstorm.com/flash-game-dev-tips/flash-game-dev-tip-12-building-a-retro-platform-game-in-flixel-part-1">Building a retro platform game in Flixel</a></p>
					<p><a href="https://github.com/ericjohnson/canabalt-ios">Open source Canabalt for iOS</a></p>
					<p><a href="http://flixelcommunity.org/">Flixel Community fork</a></p>
				</section>

				<section>
					<h2>Alternatives?</h2>

					<br />

					<p><a href="http://haxepunk.com/">Haxe Punk</a></p>
					<p><a href="https://github.com/aduros/flambe">Flambe</a></p>
					<p><a href="http://insweater.net/introducing-hove/">HÖVE</a></p>
					<p><a href="https://code.google.com/p/cocos2d-haxe/">cocos2d-haxe</a></p>
					<p>... continue watching <a href="http://old.haxe.org/doc/libraries">here</a></p>
				</section>

				<section>
					<h2>Thanks</h2>

					<br />

					<img src="images/github-repo-qr.png" width="400px" />

					<p>This IS <a href="https://github.com/dector/haxonoid">github repo</a> you are looking for</p>

					<p>(with sources)</p>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				parallaxBackgroundImage: 'images/background.jpg',
				parallaxBackgroundSize: '2600px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
